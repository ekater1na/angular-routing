(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{lE2P:function(t,e,r){"use strict";r.r(e),r.d(e,"ProductModule",(function(){return Z}));var o=r("fXoL"),n=r("tk/3"),c=r("LRne"),i=r("HDdC"),a=r("vkgz"),d=r("JIr8"),s=r("lJxs");let l=(()=>{class t{constructor(t){this.http=t,this.productsUrl="api/products"}getProducts(){return this.http.get(this.productsUrl).pipe(Object(a.a)(t=>console.log(JSON.stringify(t))),Object(d.a)(this.handleError))}getProduct(t){return 0===t?Object(c.a)(this.initializeProduct()):this.http.get(`${this.productsUrl}/${t}`).pipe(Object(a.a)(t=>console.log("getProduct: "+JSON.stringify(t))),Object(d.a)(this.handleError))}createProduct(t){const e=new n.d({"Content-Type":"application/json"});return t.id=null,this.http.post(this.productsUrl,t,{headers:e}).pipe(Object(a.a)(t=>console.log("createProduct: "+JSON.stringify(t))),Object(d.a)(this.handleError))}deleteProduct(t){const e=new n.d({"Content-Type":"application/json"});return this.http.delete(`${this.productsUrl}/${t}`,{headers:e}).pipe(Object(a.a)(e=>console.log("deleteProduct: "+t)),Object(d.a)(this.handleError))}updateProduct(t){const e=new n.d({"Content-Type":"application/json"});return this.http.put(`${this.productsUrl}/${t.id}`,t,{headers:e}).pipe(Object(a.a)(()=>console.log("updateProduct: "+t.id)),Object(s.a)(()=>t),Object(d.a)(this.handleError))}handleError(t){let e;return e=t.error instanceof ErrorEvent?"An error occurred: "+t.error.message:`Backend returned code ${t.status}: ${t.body.error}`,console.error(t),r=e,new i.a(t=>t.error(r));var r}initializeProduct(){return{id:0,productName:null,productCode:null,category:null,tags:[],releaseDate:null,price:null,description:null,starRating:null,imageUrl:null}}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(n.b))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=r("tyNb"),u=r("3Pt+"),p=r("ofXK");let g=(()=>{class t{constructor(){this.rating=0,this.starWidth=0,this.ratingClicked=new o.n}ngOnChanges(){this.starWidth=75*this.rating/5}onClick(){this.ratingClicked.emit(`The rating ${this.rating} was clicked!`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Eb({type:t,selectors:[["pm-star"]],inputs:{rating:"rating"},outputs:{ratingClicked:"ratingClicked"},features:[o.yb],decls:7,vars:3,consts:[[1,"crop",3,"title","click"],[2,"width","75px"],[1,"fa","fa-star"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Ub("click",(function(){return e.onClick()})),o.Nb(1,"div",1),o.Lb(2,"span",2),o.Lb(3,"span",2),o.Lb(4,"span",2),o.Lb(5,"span",2),o.Lb(6,"span",2),o.Mb(),o.Mb()),2&t&&(o.jc("width",e.starWidth,"px"),o.ac("title",e.rating))},styles:[".crop[_ngcontent-%COMP%]{overflow:hidden}div[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function h(t,e){if(1&t&&(o.Nb(0,"div",3),o.Nb(1,"div",11),o.Nb(2,"h4"),o.lc(3),o.Mb(),o.Mb(),o.Mb()),2&t){const t=o.Wb();o.Ab(3),o.nc("Filtered by: ",t.listFilter,"")}}function f(t,e){if(1&t&&o.Lb(0,"img",19),2&t){const t=o.Wb().$implicit,e=o.Wb(2);o.jc("width",e.imageWidth,"px")("margin",e.imageMargin,"px"),o.ac("src",t.imageUrl,o.hc)("title",t.productName)}}const M=function(t,e){return{filterBy:t,showImage:e}},m=function(t){return["/products",t]},v=function(t){return["/products",t,"edit"]};function N(t,e){if(1&t&&(o.Nb(0,"tr"),o.Nb(1,"td"),o.kc(2,f,1,6,"img",15),o.Mb(),o.Nb(3,"td"),o.Nb(4,"a",16),o.lc(5),o.Mb(),o.Mb(),o.Nb(6,"td"),o.lc(7),o.Mb(),o.Nb(8,"td"),o.lc(9),o.Mb(),o.Nb(10,"td"),o.lc(11),o.Xb(12,"currency"),o.Mb(),o.Nb(13,"td"),o.Lb(14,"pm-star",17),o.Mb(),o.Nb(15,"td"),o.Nb(16,"button",18),o.lc(17," Edit "),o.Mb(),o.Mb(),o.Mb()),2&t){const t=e.$implicit,r=o.Wb(2);o.Ab(2),o.ac("ngIf",r.showImage&&t.imageUrl),o.Ab(2),o.ac("queryParams",o.dc(14,M,r.listFilter,r.showImage))("routerLink",o.cc(17,m,t.id)),o.Ab(1),o.nc(" ",t.productName," "),o.Ab(2),o.mc(t.productCode),o.Ab(2),o.mc(t.releaseDate),o.Ab(2),o.mc(o.Zb(12,9,t.price,"USD","symbol","1.2-2")),o.Ab(3),o.ac("rating",t.starRating),o.Ab(2),o.ac("routerLink",o.cc(19,v,t.id))}}function y(t,e){if(1&t){const t=o.Ob();o.Nb(0,"table",12),o.Nb(1,"thead"),o.Nb(2,"tr"),o.Nb(3,"th"),o.Nb(4,"button",13),o.Ub("click",(function(){return o.gc(t),o.Wb().toggleImage()})),o.lc(5),o.Mb(),o.Mb(),o.Nb(6,"th"),o.lc(7,"Product"),o.Mb(),o.Nb(8,"th"),o.lc(9,"Code"),o.Mb(),o.Nb(10,"th"),o.lc(11,"Available"),o.Mb(),o.Nb(12,"th"),o.lc(13,"Price"),o.Mb(),o.Nb(14,"th"),o.lc(15,"5 Star Rating"),o.Mb(),o.Lb(16,"th"),o.Mb(),o.Mb(),o.Nb(17,"tbody"),o.kc(18,N,18,21,"tr",14),o.Mb(),o.Mb()}if(2&t){const t=o.Wb();o.Ab(5),o.nc(" ",t.showImage?"Hide":"Show"," Image "),o.Ab(13),o.ac("ngForOf",t.filteredProducts)}}function P(t,e){if(1&t&&(o.Nb(0,"div",20),o.lc(1),o.Mb()),2&t){const t=o.Wb();o.Ab(1),o.nc(" Error: ",t.errorMessage,"\n")}}let C=(()=>{class t{constructor(t,e){this.productService=t,this.route=e,this.pageTitle="Product List",this.imageWidth=50,this.imageMargin=2,this.showImage=!1,this.errorMessage="",this._listFilter="",this.filteredProducts=[],this.products=[]}get listFilter(){return this._listFilter}set listFilter(t){this._listFilter=t,this.filteredProducts=this.listFilter?this.performFilter(this.listFilter):this.products}ngOnInit(){this.listFilter=this.route.snapshot.queryParamMap.get("filterBy")||"",this.showImage="true"===this.route.snapshot.queryParamMap.get("showImage"),this.productService.getProducts().subscribe({next:t=>{this.products=t,this.filteredProducts=this.performFilter(this.listFilter)},error:t=>this.errorMessage=t})}performFilter(t){return t=t.toLocaleLowerCase(),this.products.filter(e=>-1!==e.productName.toLocaleLowerCase().indexOf(t))}toggleImage(){this.showImage=!this.showImage}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(l),o.Kb(b.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["ng-component"]],decls:13,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],["type","text",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"table-responsive"],["class","table mb-0",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-6"],[1,"table","mb-0"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[4,"ngFor","ngForOf"],[3,"src","title","width","margin",4,"ngIf"],[3,"queryParams","routerLink"],[3,"rating"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.lc(2),o.Mb(),o.Nb(3,"div",2),o.Nb(4,"div",3),o.Nb(5,"div",4),o.lc(6,"Filter by:"),o.Mb(),o.Nb(7,"div",5),o.Nb(8,"input",6),o.Ub("ngModelChange",(function(t){return e.listFilter=t})),o.Mb(),o.Mb(),o.Mb(),o.kc(9,h,4,1,"div",7),o.Nb(10,"div",8),o.kc(11,y,19,2,"table",9),o.Mb(),o.Mb(),o.Mb(),o.kc(12,P,2,1,"div",10)),2&t&&(o.Ab(2),o.nc(" ",e.pageTitle," "),o.Ab(6),o.ac("ngModel",e.listFilter),o.Ab(1),o.ac("ngIf",e.listFilter),o.Ab(2),o.ac("ngIf",e.products&&e.products.length),o.Ab(1),o.ac("ngIf",e.errorMessage))},directives:[u.a,u.d,u.g,p.k,p.j,b.i,g,b.g],pipes:[p.c],styles:["thead[_ngcontent-%COMP%]{color:#337ab7}"]}),t})();function w(t,e){if(1&t&&(o.Nb(0,"div",12),o.Lb(1,"img",16),o.Mb()),2&t){const t=o.Wb(2);o.Ab(1),o.jc("height",150,"px")("margin",2,"px"),o.ac("src",t.product.imageUrl,o.hc)("title",t.product.productName)}}const k=function(){return["/products"]},I=function(t){return["/products",t,"edit"]};function A(t,e){if(1&t&&(o.Nb(0,"div",4),o.Nb(1,"div",5),o.Nb(2,"div",6),o.Nb(3,"div",5),o.Nb(4,"div",7),o.lc(5,"Name:"),o.Mb(),o.Nb(6,"div",8),o.lc(7),o.Mb(),o.Mb(),o.Nb(8,"div",5),o.Nb(9,"div",7),o.lc(10,"Code:"),o.Mb(),o.Nb(11,"div",8),o.lc(12),o.Mb(),o.Mb(),o.Nb(13,"div",5),o.Nb(14,"div",7),o.lc(15,"Description:"),o.Mb(),o.Nb(16,"div",8),o.lc(17),o.Mb(),o.Mb(),o.Nb(18,"div",5),o.Nb(19,"div",7),o.lc(20,"Availability:"),o.Mb(),o.Nb(21,"div",8),o.lc(22),o.Mb(),o.Mb(),o.Nb(23,"div",5),o.Nb(24,"div",7),o.lc(25,"Price:"),o.Mb(),o.Nb(26,"div",8),o.lc(27),o.Xb(28,"currency"),o.Mb(),o.Mb(),o.Nb(29,"div",5),o.Nb(30,"div",7),o.lc(31,"5 Star Rating:"),o.Mb(),o.Nb(32,"div",8),o.Lb(33,"pm-star",9),o.Mb(),o.Mb(),o.Nb(34,"div",5),o.Nb(35,"div",7),o.lc(36,"Category:"),o.Mb(),o.Nb(37,"div",8),o.lc(38),o.Mb(),o.Mb(),o.Nb(39,"div",5),o.Nb(40,"div",7),o.lc(41,"Tags:"),o.Mb(),o.Nb(42,"div",8),o.lc(43),o.Mb(),o.Mb(),o.Mb(),o.kc(44,w,2,6,"div",10),o.Mb(),o.Nb(45,"div",11),o.Nb(46,"div",12),o.Nb(47,"button",13),o.Lb(48,"i",14),o.lc(49," Back "),o.Mb(),o.Nb(50,"button",15),o.lc(51," Edit "),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t){const t=o.Wb();o.Ab(7),o.mc(t.product.productName),o.Ab(5),o.mc(t.product.productCode),o.Ab(5),o.mc(t.product.description),o.Ab(5),o.mc(t.product.releaseDate),o.Ab(5),o.mc(o.Yb(28,11,t.product.price,"USD","symbol")),o.Ab(6),o.ac("rating",t.product.starRating),o.Ab(5),o.mc(t.product.category),o.Ab(5),o.mc(t.product.tags),o.Ab(1),o.ac("ngIf",t.product.imageUrl),o.Ab(3),o.ac("routerLink",o.bc(15,k)),o.Ab(3),o.ac("routerLink",o.cc(16,I,t.product.id))}}function O(t,e){if(1&t&&(o.Nb(0,"div",17),o.lc(1),o.Mb()),2&t){const t=o.Wb();o.Ab(1),o.nc("",t.errorMessage,"\n")}}let x=(()=>{class t{constructor(t){this.route=t,this.pageTitle="Product Detail"}ngOnInit(){const t=this.route.snapshot.data.resolvedData;this.errorMessage=t.error,this.onProductRetrieved(t.product)}onProductRetrieved(t){this.product=t,this.pageTitle=this.product?"Product Detail: "+this.product.productName:"No product found"}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(b.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"card"],[1,"card-header"],["class","card-body",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"col-md-3"],[1,"col-md-6"],[3,"rating"],["class","col-md-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-md-4"],["queryParamsHandling","preserve",1,"btn","btn-outline-secondary","mr-3",2,"width","80px",3,"routerLink"],[1,"fa","fa-chevron-left"],[1,"btn","btn-outline-primary",2,"width","80px",3,"routerLink"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.lc(2),o.Mb(),o.kc(3,A,52,18,"div",2),o.Mb(),o.kc(4,O,2,1,"div",3)),2&t&&(o.Ab(2),o.nc(" ",e.pageTitle," "),o.Ab(1),o.ac("ngIf",e.product),o.Ab(1),o.ac("ngIf",e.errorMessage))},directives:[p.k,g,b.g],pipes:[p.c],styles:[""]}),t})();var L=r("MWqy");const S=function(){return["info"]},_=function(t){return{"fa fa-exclamation":t}},F=function(){return["tags"]},T=function(){return["/products"]};function j(t,e){if(1&t){const t=o.Ob();o.Nb(0,"div",4),o.Nb(1,"div",5),o.Nb(2,"a",6),o.lc(3," Basic information"),o.Lb(4,"span",7),o.Mb(),o.Nb(5,"a",6),o.lc(6," Search tags"),o.Lb(7,"span",7),o.Mb(),o.Mb(),o.Lb(8,"router-outlet"),o.Nb(9,"div",8),o.Nb(10,"div",9),o.Nb(11,"button",10),o.Ub("click",(function(){return o.gc(t),o.Wb().saveProduct()})),o.lc(12," Save "),o.Mb(),o.Nb(13,"button",11),o.lc(14," Cancel "),o.Mb(),o.Nb(15,"button",12),o.Ub("click",(function(){return o.gc(t),o.Wb().deleteProduct()})),o.lc(16," Delete "),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&t){const t=o.Wb();o.Ab(2),o.ac("routerLink",o.bc(6,S)),o.Ab(2),o.ac("ngClass",o.cc(7,_,!t.isValid("info"))),o.Ab(1),o.ac("routerLink",o.bc(9,F)),o.Ab(2),o.ac("ngClass",o.cc(10,_,!t.isValid("tags"))),o.Ab(4),o.ac("disabled",!t.isValid()),o.Ab(2),o.ac("routerLink",o.bc(12,T))}}function U(t,e){if(1&t&&(o.Nb(0,"div",13),o.lc(1),o.Mb()),2&t){const t=o.Wb();o.Ab(1),o.nc("",t.errorMessage,"\n")}}let D=(()=>{class t{constructor(t,e,r,o){this.productService=t,this.messageService=e,this.route=r,this.router=o,this.pageTitle="Product Edit",this.dataIsValid={}}get isDirty(){return JSON.stringify(this.originalProduct)!==JSON.stringify(this.currentProduct)}get product(){return this.currentProduct}set product(t){this.currentProduct=t,this.originalProduct=Object.assign({},t)}ngOnInit(){this.route.data.subscribe(t=>{const e=t.resolvedData;this.errorMessage=e.error,this.onProductRetrieved(e.product)})}onProductRetrieved(t){this.product=t,this.pageTitle=this.product?0===this.product.id?"Add Product":"Edit Product: "+this.product.productName:"No product found"}deleteProduct(){0===this.product.id?this.onSaveComplete(this.product.productName+" was deleted"):confirm(`Really delete the product: ${this.product.productName}?`)&&this.productService.deleteProduct(this.product.id).subscribe({next:()=>this.onSaveComplete(this.product.productName+" was deleted"),error:t=>this.errorMessage=t})}isValid(t){return this.validate(),t?this.dataIsValid[t]:this.dataIsValid&&Object.keys(this.dataIsValid).every(t=>!0===this.dataIsValid[t])}reset(){this.dataIsValid=null,this.currentProduct=null,this.originalProduct=null}saveProduct(){this.isValid()?0===this.product.id?this.productService.createProduct(this.product).subscribe({next:()=>this.onSaveComplete(`The new ${this.product.productName} was saved`),error:t=>this.errorMessage=t}):this.productService.updateProduct(this.product).subscribe({next:()=>this.onSaveComplete(`The updated ${this.product.productName} was saved`),error:t=>this.errorMessage=t}):this.errorMessage="Please correct the validation errors."}onSaveComplete(t){t&&this.messageService.addMessage(t),this.reset(),this.router.navigate(["/products"])}validate(){this.dataIsValid={},this.dataIsValid.info=!!(this.product.productName&&this.product.productName.length>=3&&this.product.productCode),this.dataIsValid.tags=this.product.category&&this.product.category.length>=3}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(l),o.Kb(L.a),o.Kb(b.a),o.Kb(b.f))},t.\u0275cmp=o.Eb({type:t,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"card"],[1,"card-header"],["class","card-body",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"wizard"],["routerLinkActive","active",3,"routerLink"],[3,"ngClass"],[1,"form-group","row","mb-2"],[1,"col-md-6"],["title","Save your entered data","type","button",1,"btn","btn-primary","mr-3",2,"width","80px",3,"disabled","click"],["title","Cancel your edits","type","button",1,"btn","btn-outline-secondary","mr-3",2,"width","80px",3,"routerLink"],["title","Delete this product","type","button",1,"btn","btn-outline-warning",2,"width","80px",3,"click"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.lc(2),o.Mb(),o.kc(3,j,17,13,"div",2),o.Mb(),o.kc(4,U,2,1,"div",3)),2&t&&(o.Ab(2),o.nc(" ",e.pageTitle," "),o.Ab(1),o.ac("ngIf",e.product),o.Ab(1),o.ac("ngIf",e.errorMessage))},directives:[p.k,b.i,b.h,p.i,b.k,b.g],styles:['.fa-exclamation[_ngcontent-%COMP%]{color:red}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#efefef;display:inline-block;margin-right:5px;min-width:150px;outline:none;padding:10px 40px;position:relative;text-decoration:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{border-left:20px solid #fff;left:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{width:0;height:0;border-top:20px inset transparent;border-bottom:24px inset transparent;position:absolute;content:"";top:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{border-left:21px solid #efefef;right:-20px;z-index:2}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:before, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child:after{border:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 8px 0 0}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{border-left-color:#007acc}']}),t})();var W=r("PCNd");let E=(()=>{class t{constructor(t){this.productService=t}resolve(t,e){const r=t.paramMap.get("id");if(isNaN(+r)){const t="Product id was not a number: "+r;return console.error(t),Object(c.a)({product:null,error:t})}return this.productService.getProduct(+r).pipe(Object(s.a)(t=>({product:t})),Object(d.a)(t=>{const e="Retrieval error: "+t;return console.error(e),Object(c.a)({product:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(l))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function z(t,e){1&t&&(o.Nb(0,"span"),o.lc(1," A category must be entered. "),o.Mb())}function V(t,e){1&t&&(o.Nb(0,"span"),o.lc(1," The category must be at least 3 characters in length. "),o.Mb())}function q(t,e){if(1&t){const t=o.Ob();o.Nb(0,"span"),o.Nb(1,"button",17),o.Ub("click",(function(){o.gc(t);const r=e.index;return o.Wb().removeTag(r)})),o.lc(2),o.Lb(3,"span",18),o.Mb(),o.Mb()}if(2&t){const t=e.$implicit;o.Ab(2),o.nc(" ",t," ")}}function $(t,e){if(1&t&&(o.Nb(0,"div",19),o.lc(1),o.Mb()),2&t){const t=o.Wb();o.Ab(1),o.nc("",t.errorMessage,"\n")}}const R=function(t){return{"is-invalid":t}};let K=(()=>{class t{constructor(t){this.route=t,this.newTags=""}ngOnInit(){this.route.parent.data.subscribe(t=>{this.product=t.resolvedData.product})}addTags(){if(this.newTags){const t=this.newTags.split(",");this.product.tags=this.product.tags?this.product.tags.concat(t):t,this.newTags="",this.errorMessage=""}else this.errorMessage="Enter the search keywords separated by commas and then press Add"}removeTag(t){this.product.tags.splice(t,1)}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(b.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["ng-component"]],decls:26,vars:9,consts:[[1,"card-body"],["novalidate",""],[1,"form-group","row"],["for","categoryId",1,"col-md-2","col-form-label"],[1,"col-md-8"],["id","categoryId","type","text","placeholder","Category (required)","required","","minlength","3","name","category",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["categoryVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","tagsId",1,"col-md-2","col-form-label"],["id","tagsId","type","text","placeholder","Search keywords separated by commas","name","tags",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","button","title","Enter the search keywords separated by commas and then press Add",1,"btn","btn-outline-primary",3,"click"],[1,"row"],[1,"col-md-8","offset-md-2"],[4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["title","Click to remove this tag",1,"btn","btn-outline-secondary",2,"font-size","smaller","margin-bottom","12px","margin-right","2px",3,"click"],[1,"fa","fa-times-circle"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(o.Nb(0,"div",0),o.Nb(1,"form",1),o.Nb(2,"fieldset"),o.Nb(3,"legend"),o.lc(4,"Product Search Tags"),o.Mb(),o.Nb(5,"div",2),o.Nb(6,"label",3),o.lc(7,"Category"),o.Mb(),o.Nb(8,"div",4),o.Nb(9,"input",5,6),o.Ub("ngModelChange",(function(t){return e.product.category=t})),o.Mb(),o.Nb(11,"span",7),o.kc(12,z,2,0,"span",8),o.kc(13,V,2,0,"span",8),o.Mb(),o.Mb(),o.Mb(),o.Nb(14,"div",2),o.Nb(15,"label",9),o.lc(16,"Search Tags"),o.Mb(),o.Nb(17,"div",4),o.Nb(18,"input",10),o.Ub("ngModelChange",(function(t){return e.newTags=t})),o.Mb(),o.Mb(),o.Nb(19,"div",11),o.Nb(20,"button",12),o.Ub("click",(function(){return e.addTags()})),o.lc(21," Add "),o.Mb(),o.Mb(),o.Mb(),o.Nb(22,"div",13),o.Nb(23,"div",14),o.kc(24,q,4,1,"span",15),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.kc(25,$,2,1,"div",16)),2&t){const t=o.fc(10);o.Ab(9),o.ac("ngModel",e.product.category)("ngClass",o.cc(7,R,(t.touched||t.dirty||0!==e.product.id)&&!t.valid)),o.Ab(3),o.ac("ngIf",null==t.errors?null:t.errors.required),o.Ab(1),o.ac("ngIf",null==t.errors?null:t.errors.minlength),o.Ab(5),o.ac("ngModel",e.newTags),o.Ab(6),o.ac("ngForOf",e.product.tags),o.Ab(1),o.ac("ngIf",e.errorMessage)}},directives:[u.i,u.e,u.f,u.a,u.h,u.c,u.d,u.g,p.i,p.k,p.j],encapsulation:2}),t})();function J(t,e){1&t&&(o.Nb(0,"span"),o.lc(1," Product name is required. "),o.Mb())}function B(t,e){1&t&&(o.Nb(0,"span"),o.lc(1," Product name must be at least three characters. "),o.Mb())}function H(t,e){1&t&&(o.Nb(0,"span"),o.lc(1," Product code is required. "),o.Mb())}function X(t,e){if(1&t&&(o.Nb(0,"div",16),o.lc(1),o.Mb()),2&t){const t=o.Wb();o.Ab(1),o.nc("",t.errorMessage,"\n")}}const G=function(t){return{"is-invalid":t}};let Q=(()=>{class t{constructor(t){this.route=t}ngOnInit(){this.route.parent.data.subscribe(t=>{this.productForm&&this.productForm.reset(),this.product=t.resolvedData.product})}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(b.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var r;1&t&&o.oc(u.f,!0),2&t&&o.ec(r=o.Vb())&&(e.productForm=r.first)},decls:29,vars:13,consts:[[1,"card-body"],["novalidate",""],["productForm","ngForm"],[1,"form-group","row"],["for","productNameId",1,"col-md-2","col-form-label"],[1,"col-md-8"],["id","productNameId","type","text","placeholder","Name (required)","required","","minlength","3","name","productName",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["productNameVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["for","productCodeId",1,"col-md-2","col-form-label"],["id","productCodeId","type","text","placeholder","Code (required)","required","","name","productCode",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["productCodeVar","ngModel"],["for","descriptionId",1,"col-md-2","col-form-label"],["id","descriptionId","placeholder","Description","rows","3","name","description",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(o.Nb(0,"div",0),o.Nb(1,"form",1,2),o.Nb(3,"fieldset"),o.Nb(4,"legend"),o.lc(5,"Basic Product Information"),o.Mb(),o.Nb(6,"div",3),o.Nb(7,"label",4),o.lc(8,"Product Name"),o.Mb(),o.Nb(9,"div",5),o.Nb(10,"input",6,7),o.Ub("ngModelChange",(function(t){return e.product.productName=t})),o.Mb(),o.Nb(12,"span",8),o.kc(13,J,2,0,"span",9),o.kc(14,B,2,0,"span",9),o.Mb(),o.Mb(),o.Mb(),o.Nb(15,"div",3),o.Nb(16,"label",10),o.lc(17,"Product Code"),o.Mb(),o.Nb(18,"div",5),o.Nb(19,"input",11,12),o.Ub("ngModelChange",(function(t){return e.product.productCode=t})),o.Mb(),o.Nb(21,"span",8),o.kc(22,H,2,0,"span",9),o.Mb(),o.Mb(),o.Mb(),o.Nb(23,"div",3),o.Nb(24,"label",13),o.lc(25,"Description"),o.Mb(),o.Nb(26,"div",5),o.Nb(27,"textarea",14),o.Ub("ngModelChange",(function(t){return e.product.description=t})),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.kc(28,X,2,1,"div",15)),2&t){const t=o.fc(11),r=o.fc(20);o.Ab(10),o.ac("ngModel",e.product.productName)("ngClass",o.cc(9,G,(t.touched||t.dirty||0!==e.product.id)&&!t.valid)),o.Ab(3),o.ac("ngIf",null==t.errors?null:t.errors.required),o.Ab(1),o.ac("ngIf",null==t.errors?null:t.errors.minlength),o.Ab(5),o.ac("ngModel",e.product.productCode)("ngClass",o.cc(11,G,(r.touched||r.dirty||0!==e.product.id)&&!r.valid)),o.Ab(3),o.ac("ngIf",null==r.errors?null:r.errors.required),o.Ab(5),o.ac("ngModel",e.product.description),o.Ab(1),o.ac("ngIf",e.errorMessage)}},directives:[u.i,u.e,u.f,u.a,u.h,u.c,u.d,u.g,p.i,p.k],encapsulation:2}),t})(),Y=(()=>{class t{canDeactivate(t,e,r,o){return!t.isDirty||confirm(`Navigate away and lose all changes to ${t.product.productName||"New product"}?`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Z=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[W.a,b.j.forChild([{path:"",component:C},{path:":id",component:x,resolve:{resolvedData:E}},{path:":id/edit",component:D,canDeactivate:[Y],resolve:{resolvedData:E},children:[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:Q},{path:"tags",component:K}]}])]]}),t})()}}]);